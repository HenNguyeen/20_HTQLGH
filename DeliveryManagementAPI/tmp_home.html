<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Giao H√†ng T·ªëc ƒê·ªô | Giao si√™u nhanh - Gi√° si√™u t·ªët</title>
  <link rel="stylesheet" href="../Home/home.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  <link rel="icon" href="https://ghn.vn/favicon.ico">
</head>
<body>
  <!-- Header -->
  <header class="header">
    <div class="top-bar">
      <span>üìû 1900 636677</span>
      <span>üìç B∆∞u c·ª•c GHTD to√†n qu·ªëc</span>
    </div>

    <div class="nav-bar">
      <div class="logo">
        <img src="../Image/Logo.jpg" alt="GHTD Logo">
      </div>

      <nav class="menu">
        <a href="#">Trang ch·ªß</a>
         <a href="#dichvu">D·ªãch v·ª•</a>
        <div class="dropdown">
    <a href="#gioithieu" class="dropdown-toggle" data-bs-toggle="dropdown">Gi·ªõi thi·ªáu</a>
    <ul class="dropdown-menu">
      <li><a class="dropdown-item" href="#veghn">V·ªÅ GHTD</a></li>
      <li><a class="dropdown-item" href="#congnghe">C√¥ng ngh·ªá</a></li>
      <li><a class="dropdown-item" href="#ghnxu">GHTD Xu</a></li>
      <li><a class="dropdown-item" href="#buucuc">B∆∞u c·ª•c</a></li>
      <li><a class="dropdown-item" href="#vieclam">C∆° h·ªôi vi·ªác l√†m</a></li>
      <li><a class="dropdown-item" href="#lienhe">Li√™n h·ªá</a></li>
    </ul>
  </div>
  <div class="dropdown">
    <a href="#H·ªó tr·ª£" class="dropdown-toggle" data-bs-toggle="dropdown">H·ªó tr·ª£</a>
    <ul class="dropdown-menu">
      <li><a class="dropdown-item" href="#Cauhoi">C√¢u h·ªèi th∆∞·ªùng g·∫∑p</a></li>
      <li><a class="dropdown-item" href="#khieunai">Quy ƒë·ªãnh khi·∫øu n·∫°i</a></li>
      <li><a class="dropdown-item" href="#tructrac">H√†ng h√≥a kh√¥ng v·∫≠n chuy·ªÉn</a></li>
      <li><a class="dropdown-item" href="#chinhsachboithuong">Ch√≠nh s√°ch b·ªìi th∆∞·ªùng</a></li>
      <li><a class="dropdown-item" href="#dieukhoan">ƒêi·ªÅu kho·∫£n s·ª≠ d·ª•ng</a></li>
      <li><a class="dropdown-item" href="#csbaomat">Ch√≠nh s√°ch b·∫£o m·∫≠t</a></li>
    </ul>
  </div>
        <div class="dropdown">
    <a href="#Th√¥ng tin" class="dropdown-toggle" data-bs-toggle="dropdown">Th√¥ng tin</a>
    <ul class="dropdown-menu">
      <li><a class="dropdown-item" href="#tintuc">Tin t·ª©c</a></li>
      <li><a class="dropdown-item" href="#bangia">B·∫£ng gi√°</a></li>
      <li><a class="dropdown-item" href="#khuyenmai">Khuy·∫øn m√£i</a></li>
      <li><a class="dropdown-item" href="#kienthuc">Ki·∫øn th·ª©c giao h√†ng</a></li>
    </ul>
  </div>
      </nav>

      <div class="actions d-flex align-items-center">
        <input id="orderSearchInput" type="text" class="form-control me-2" placeholder="Nh·∫≠p m√£ ƒë∆°n h√†ng b·∫°n c·∫ßn tra c·ª©u...">
        <button id="orderSearchBtn" class="btn btn-outline-primary me-2">Tra c·ª©u</button>
        <a href="../login.html" class="login-btn btn btn-warning">ƒêƒÉng k√Ω / ƒêƒÉng nh·∫≠p</a>
      </div>
    </div>
  </header>

  <!-- Banner -->
  <section class="banner">
    <div class="banner-content">
      <h1>CH·ªåN <span class="highlight">GiaoHangTocDo</span></h1>
      <h2>GIAO H√ÄNG K√ù G·ª¨I <br> GI√Å NH·∫∏ V√ç ‚Äì SHOP NH·∫∏ L√íNG</h2>
      <p>L√™n ƒë∆°n d·ªÖ d√†ng ngay tr√™n App GiaoHangNhanh</p>
      <button class="app-btn">T·∫£i App ngay</button>
    </div>
  </section>


  <!-- D·ªãch v·ª• -->
<section id="dichvu" class="services">
  <div class="container text-center py-5">
    <h2 class="mb-4">D·ªäCH V·ª§ C·ª¶A CH√öNG T√îI</h2>
    <p>Giao h√†ng nhanh, an to√†n, gi√° t·ªët ‚Äî ph·ª•c v·ª• to√†n qu·ªëc.</p>

    <div class="row mt-5">
      <div class="col-md-4">
        <i class="fa-solid fa-truck-fast fa-3x mb-3 text-warning"></i>
        <h5>Giao h√†ng si√™u t·ªëc</h5>
        <p>Nh·∫≠n h√†ng v√† giao trong ng√†y, √°p d·ª•ng t·∫°i c√°c th√†nh ph·ªë l·ªõn.</p>
      </div>
      <div class="col-md-4">
        <i class="fa-solid fa-box-open fa-3x mb-3 text-warning"></i>
        <h5>Giao h√†ng ti·∫øt ki·ªám</h5>
        <p>Gi·∫£i ph√°p ti·∫øt ki·ªám chi ph√≠ cho c√°c shop online v√† doanh nghi·ªáp nh·ªè.</p>
      </div>
      <div class="col-md-4">
        <i class="fa-solid fa-hand-holding-dollar fa-3x mb-3 text-warning"></i>
        <h5>D·ªãch v·ª• thu h·ªô (COD)</h5>
        <p>H·ªó tr·ª£ thu h·ªô ti·ªÅn h√†ng, chuy·ªÉn kho·∫£n nhanh ch√≥ng v√† minh b·∫°ch.</p>
      </div>
    </div>
  </div>
</section>

  <!-- Sidebar -->
 <aside class="sidebar">
  <a href="#"><i class="fa-solid fa-store"></i> H·ªá th·ªëng b∆∞u c·ª•c</a>
  <a href="#"><i class="fa-solid fa-money-bill-wave"></i> Ch√≠nh s√°ch b·ªìi th∆∞·ªùng</a>
  <a href="#"><i class="fa-solid fa-box"></i> H√†ng ho√° kh√¥ng v·∫≠n chuy·ªÉn</a>
  <a href="#"><i class="fa-solid fa-comment-dots"></i> Quy ƒë·ªãnh v·ªÅ khi·∫øu n·∫°i</a>
</aside>


  <footer>
    <p>¬© 2025 GiaoHangTocDo. All rights reserved.</p>
  </footer>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script src="../js/api-service.js"></script>
  <script>
    // Order search (tracking by order code) - uses apiService.trackByOrderCode
    (function(){
      const input = document.getElementById('orderSearchInput');
      const btn = document.getElementById('orderSearchBtn');

      function renderTracking(result) {
        // Remove existing panel if any
        let panel = document.getElementById('orderTrackingPanel');
        if (panel) panel.remove();

        panel = document.createElement('div');
        panel.id = 'orderTrackingPanel';
        panel.className = 'container my-4';

        if (!result || !result.order) {
          panel.innerHTML = `<div class="alert alert-warning">Kh√¥ng t√¨m th·∫•y th√¥ng tin cho m√£ ƒë∆°n h√†ng n√†y.</div>`;
          document.querySelector('body').insertBefore(panel, document.querySelector('footer'));
          return;
        }

        const order = result.order;
        const checkpoints = result.checkpoints || [];

        let html = `
          <div class="card">
            <div class="card-body">
              <h5 class="card-title">Tra c·ª©u ƒë∆°n: <strong>${order.orderCode}</strong></h5>
              <p class="mb-1"><strong>Tr·∫°ng th√°i:</strong> ${utils.getStatusText(order.status)}</p>
              <p class="mb-1"><strong>Kh√°ch h√†ng:</strong> ${order.customer?.fullName || '-'} - ${order.customer?.phoneNumber || '-'}</p>
              <p class="mb-1"><strong>ƒê·ªãa ch·ªâ:</strong> ${order.customer?.address || '-'}</p>
              <p class="mb-1"><strong>Ph√≠ giao:</strong> ${utils.formatCurrency(order.shippingFee || 0)}</p>
              <hr>
              <h6>L·ªãch s·ª≠ v·ªã tr√≠</h6>
        `;

        if (checkpoints.length === 0) {
          html += `<p class="text-muted">Ch∆∞a c√≥ ƒëi·ªÉm check-in n√†o.</p>`;
        } else {
          html += `<ul class="list-group">`;
          checkpoints.forEach(cp => {
            html += `<li class="list-group-item">
                        <div><strong>${cp.locationName || (cp.latitude+','+cp.longitude)}</strong></div>
                        <div class="small text-muted">${utils.formatDate(cp.checkInTime)}</div>
                        <div>${cp.notes || ''}</div>
                      </li>`;
          });
          html += `</ul>`;
        }

        html += `</div></div>`;

        panel.innerHTML = html;
        document.querySelector('body').insertBefore(panel, document.querySelector('footer'));
      }

      async function doSearch() {
        const code = input.value.trim();
        if (!code) return;
        btn.disabled = true; btn.innerText = 'ƒêang tra...';
        try {
          const res = await apiService.trackByOrderCode(code);
          renderTracking(res);
        } catch (err) {
          console.error('Track error', err);
          // show not found / error
          renderTracking(null);
        } finally {
          btn.disabled = false; btn.innerText = 'Tra c·ª©u';
        }
      }

      btn.addEventListener('click', doSearch);
      input.addEventListener('keydown', function(e){ if (e.key === 'Enter') doSearch(); });
    })();
  </script>

  </body>
  </html>
